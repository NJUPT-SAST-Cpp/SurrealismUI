/**
* ============================================
* @author:syf20020816@outlook.com
* @since:20230907
* @version:0.0.1
* @type:interface
* @description:
* # SResult
* SResult helps you easily build a quick prompt , you can build it in popup window
* ## properties
* - in property <length> icon-size: icon size
* - in-out property <string> btn : the content of the button
* - in-out property <string> content : content of the result
* - in property <ResultType> res-type : Result type
* - in-out property <Icons> icon: Icon of the result
* ## functions
* ## callbacks
* - callback clicked() : run if you click the button
* ============================================
*/

import {SCard} from "../card/index.slint";
import {SIcon} from "../icon/index.slint";
import {SButton} from "../button/index.slint";
import {SText} from "../text/index.slint";
import {ROOT_STYLES,IconSources} from "../../themes/index.slint";
import { Themes,ResultType,UseSurrealismFn } from "../../use/index.slint";
// export enum ResultType{
//   Primary,
//   Success,
//   Info,
//   Error,
//   Warning,
//   Help
// }

export component Result inherits SCard { 
  card-height: 200px;
  card-width: 140px;
  in property <length> icon-size:48px;
  in-out property <string> btn;
  in-out property <string> content;
  in property <ResultType> res-type:ResultType.Success;
  in-out property <image> icon:IconSources.icons.Success;
  padding-type: Normal;
  callback clicked();
  init => {
    self.card-padding = UseSurrealismFn.get-padding(self.padding-type);
    self.padding-top = self.card-padding.padding-top;
    self.padding-bottom = self.card-padding.padding-bottom;
    self.padding-left = self.card-padding.padding-left;
    self.padding-right = self.card-padding.padding-right;
    if(res-type==ResultType.Primary){
      self.theme = Themes.Primary;
      self.btn = "PRIMARY";
      self.icon = IconSources.icons.Smiling-face;
      self.content = "This is a primary message!";
    }else if (res-type==ResultType.Success){
      self.theme = Themes.Success;
      self.btn = "SUCCESS";
      self.content = "This is a success message!";
      self.icon = IconSources.icons.Success;
    }else if (res-type==ResultType.Info){
      self.theme = Themes.Info;
      self.btn = "INFO";
      self.icon = IconSources.icons.Info;
      self.content = "This is a info message!";
    }else if (res-type==ResultType.Error){
      self.theme = Themes.Error;
      self.btn = "ERROR";
      self.icon = IconSources.icons.Close-one;
      self.content = "This is a error message!"
    }else if (res-type==ResultType.Warning){
      self.theme = Themes.Warning;
      self.btn = "WARNING";
      self.icon = IconSources.icons.Attention;
      self.content = "This is a warning message!"
    }else{
      self.theme = Themes.Light;
      self.btn = "HELP";
      self.icon = IconSources.icons.Help;
      self.content = "This is a help message!"
    }
  }
  layout:=VerticalLayout {
    height: root.card-height;
    width: root.card-width;
    alignment: space-around;
    Rectangle {
      height: icon.height;
      width: parent.width;
      icon:=SIcon { 
        height: root.icon-size;
        width: root.icon-size;
        theme: root.theme;
        source: root.icon;
        
      }
    }
    SText { 
      theme: root.theme;
      text: root.content;
      wrap: word-wrap;
      
    }
    Rectangle {
      height: button.height;
      width: parent.width;
      button:=SButton { 
        theme: root.theme;
        text: root.btn;
        clicked => {
          root.clicked()
        }
      }
    }
  }
}